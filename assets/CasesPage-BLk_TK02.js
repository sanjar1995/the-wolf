import{g as v,u as $,h as y,o,c as u,a as t,b as a,w as c,d,_ as m,F as C,r as x,n as b,i as n,t as p,j as w,C as R,S as D,k as V,l as j}from"./index-CUKlw049.js";const z={class:"cases"},E={class:"container"},H={class:"cases__content"},T={class:"cases__content-list"},U=["onClick"],q={class:"cases__content-cards"},A=["src"],G={__name:"CasesView",setup(N){const g=[{name:"Все",type:""},{name:"Услуги",type:"Service"},{name:"Производство",type:"Production"},{name:"Товары",type:"Products"}],_=v(0),{data:f,isFetching:L,fetchData:i}=$(),B=(l="")=>{i("case/list/?type="+l)};i("case/list/");const F=l=>{i("case/list/?page="+l)},r=v(1);return(l,h)=>{var k;const P=y("RouterLink"),S=y("vue-awesome-paginate");return o(),u("section",z,[t("div",E,[a(m,{tagName:"h2",class:"cases__title title"},{default:c(()=>[d("Посмотрите результаты компаний, в которых мы построили отдел продаж")]),_:1}),t("div",H,[t("ul",T,[(o(),u(C,null,x(g,(e,s)=>t("li",{class:b(["cases__content-item",{active:n(_)==s}]),onClick:I=>(B(e.type),_.value=s),key:e.name},p(e.name),11,U)),64))]),t("div",q,[a(D,{loader:n(L),count:6},{default:c(()=>{var e;return[(o(!0),u(C,null,x((e=n(f))==null?void 0:e.results,s=>(o(),w(P,{to:"/case/"+s.id,key:s,class:"cases__content-link"},{default:c(()=>[a(R,{class:"cases__card"},{default:c(()=>[t("img",{src:s.image,alt:"",class:"cases__card-image"},null,8,A),a(m,{tagName:"h3",class:"cases__card-title"},{default:c(()=>[d(p(s.company_name),1)]),_:2},1024),a(m,{tagName:"p",class:"cases__card-txt"},{default:c(()=>[d(p(s.title),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128))]}),_:1},8,["loader"])]),a(S,{class:"cases__content-paginate","total-items":+((k=n(f))==null?void 0:k.count),"items-per-page":9,"max-pages-shown":5,modelValue:n(r),"onUpdate:modelValue":h[0]||(h[0]=e=>j(r)?r.value=e:null),"on-click":F},{"prev-button":c(()=>[t("span",null,[a(n(V),{direction:"left"})])]),"next-button":c(()=>[t("span",null,[a(n(V),{direction:"right"})])]),_:1},8,["total-items","modelValue"])])])])}}},K={__name:"CasesPage",setup(N){return(g,_)=>(o(),w(G))}};export{K as default};
